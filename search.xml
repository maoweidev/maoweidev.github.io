<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Java反射&amp;动态代理</title>
    <url>/2024/06/19/Java%E5%8F%8D%E5%B0%84&amp;%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<div id="postchat_postcontent"><h1 id="1-反射"><a class="markdownIt-Anchor" href="#1-反射"></a> 1. 反射</h1>
<h2 id="11-反射的概述"><a class="markdownIt-Anchor" href="#11-反射的概述"></a> 1.1 反射的概述：</h2>
<p>​	<strong>专业的解释（了解一下）：</strong></p>
<p>​       是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；</p>
<p>​       对于任意一个对象，都能够调用它的任意属性和方法；</p>
<p>​       这种动态获取信息以及动态调用对象方法的功能称为Java语言的反射机制。</p>
<p>​	<strong>通俗的理解：（掌握）</strong></p>
<ul>
<li>
<p>利用<strong>反射</strong>创建的对象<strong>可以无视修饰符</strong>调用类里面的内容</p>
</li>
<li>
<p>可以跟<strong>配置文件结合起来使用</strong>，把要创建的对象信息和方法写在配置文件中。</p>
<p>读取到什么类，就创建什么类的对象</p>
<p>读取到什么方法，就调用什么方法</p>
<p>此时当需求变更的时候不需要修改代码，只要修改配置文件即可。</p>
</li>
</ul>
<h2 id="12-学习反射到底学什么"><a class="markdownIt-Anchor" href="#12-学习反射到底学什么"></a> 1.2 学习反射到底学什么？</h2>
<p>反射都是从class字节码文件中获取的内容。</p>
<ul>
<li>如何获取class字节码文件的对象</li>
<li>利用反射如何获取构造方法（创建对象）</li>
<li>利用反射如何获取成员变量（赋值，获取值）</li>
<li>利用反射如何获取成员方法（运行）</li>
</ul>
<h2 id="13-获取字节码文件对象的三种方式"><a class="markdownIt-Anchor" href="#13-获取字节码文件对象的三种方式"></a> 1.3 获取字节码文件对象的三种方式</h2>
<ul>
<li>Class这个类里面的静态方法forName（“全类名”）<strong>（最常用）</strong></li>
<li>通过class属性获取</li>
<li>通过对象获取字节码文件对象</li>
</ul>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.Class这个类里面的静态方法forName</span></span><br><span class="line"><span class="comment">//Class.forName(&quot;类的全类名&quot;)： 全类名 = 包名 + 类名</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz1</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.reflectdemo.Student&quot;</span>);</span><br><span class="line"><span class="comment">//源代码阶段获取 --- 先把Student加载到内存中，再获取字节码文件的对象</span></span><br><span class="line"><span class="comment">//clazz 就表示Student这个类的字节码文件对象。</span></span><br><span class="line"><span class="comment">//就是当Student.class这个文件加载到内存之后，产生的字节码文件对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.通过class属性获取</span></span><br><span class="line"><span class="comment">//类名.class</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz2</span> <span class="operator">=</span> Student.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">//因为class文件在硬盘中是唯一的，所以，当这个文件加载到内存之后产生的对象也是唯一的</span></span><br><span class="line">System.out.println(clazz1 == clazz2);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.通过Student对象获取字节码文件对象</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz3</span> <span class="operator">=</span> s.getClass();</span><br><span class="line">System.out.println(clazz1 == clazz2);<span class="comment">//true</span></span><br><span class="line">System.out.println(clazz2 == clazz3);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h2 id="14-字节码文件和字节码文件对象"><a class="markdownIt-Anchor" href="#14-字节码文件和字节码文件对象"></a> 1.4 字节码文件和字节码文件对象</h2>
<p>java文件：就是我们自己编写的java代码。</p>
<p>字节码文件：就是通过java文件编译之后的class文件（是在硬盘上真实存在的，用眼睛能看到的）</p>
<p>字节码文件对象：当class文件加载到内存之后，虚拟机自动创建出来的对象。</p>
<p>​				这个对象里面至少包含了：构造方法，成员变量，成员方法。</p>
<p>而我们的反射获取的是什么？字节码文件对象，这个对象在内存中是唯一的。</p>
<h2 id="15-获取构造方法"><a class="markdownIt-Anchor" href="#15-获取构造方法"></a> 1.5 获取构造方法</h2>
<p>规则：</p>
<p>​	get表示获取</p>
<p>​	Declared表示私有</p>
<p>​	最后的s表示所有，复数形式</p>
<p>​	如果当前获取到的是私有的，必须要临时修改访问权限，否则无法使用</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Constructor&lt;?&gt;[] getConstructors()</td>
<td>获得所有的构造（只能public修饰）</td>
</tr>
<tr>
<td>Constructor&lt;?&gt;[] getDeclaredConstructors()</td>
<td>获得所有的构造（包含private修饰）</td>
</tr>
<tr>
<td>Constructor<T> getConstructor(Class&lt;?&gt;… parameterTypes)</T></td>
<td>获取指定构造（只能public修饰）</td>
</tr>
<tr>
<td>Constructor<T> getDeclaredConstructor(Class&lt;?&gt;… parameterTypes)</T></td>
<td>获取指定构造（包含private修饰）</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException &#123;</span><br><span class="line">        <span class="comment">//1.获得整体（class字节码文件对象）</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.reflectdemo.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取构造方法对象</span></span><br><span class="line">        <span class="comment">//获取所有构造方法（public）</span></span><br><span class="line">        Constructor[] constructors1 = clazz.getConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor constructor : constructors1) &#123;</span><br><span class="line">            System.out.println(constructor);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=======================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取所有构造（带私有的）</span></span><br><span class="line">        Constructor[] constructors2 = clazz.getDeclaredConstructors();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Constructor constructor : constructors2) &#123;</span><br><span class="line">            System.out.println(constructor);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;=======================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取指定的空参构造</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con1</span> <span class="operator">=</span> clazz.getConstructor();</span><br><span class="line">        System.out.println(con1);</span><br><span class="line"></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con2</span> <span class="operator">=</span> clazz.getConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">        System.out.println(con2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=======================&quot;</span>);</span><br><span class="line">        <span class="comment">//获取指定的构造(所有构造都可以获取到，包括public包括private)</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con3</span> <span class="operator">=</span> clazz.getDeclaredConstructor();</span><br><span class="line">        System.out.println(con3);</span><br><span class="line">        <span class="comment">//了解 System.out.println(con3 == con1);</span></span><br><span class="line">        <span class="comment">//每一次获取构造方法对象的时候，都会新new一个。</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con4</span> <span class="operator">=</span> clazz.getDeclaredConstructor(String.class);</span><br><span class="line">        System.out.println(con4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="16-获取构造方法并创建对象"><a class="markdownIt-Anchor" href="#16-获取构造方法并创建对象"></a> 1.6 获取构造方法并创建对象</h2>
<p>涉及到的方法：newInstance</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//首先要有一个javabean类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//测试类中的代码：</span></span><br><span class="line"><span class="comment">//需求1：</span></span><br><span class="line"><span class="comment">//获取空参，并创建对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.获取整体的字节码文件对象</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.a02reflectdemo1.Student&quot;</span>);</span><br><span class="line"><span class="comment">//2.获取空参的构造方法</span></span><br><span class="line"><span class="type">Constructor</span> <span class="variable">con</span> <span class="operator">=</span> clazz.getConstructor();</span><br><span class="line"><span class="comment">//3.利用空参构造方法创建对象</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> (Student) con.newInstance();</span><br><span class="line">System.out.println(stu);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;=============================================&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//测试类中的代码：</span></span><br><span class="line"><span class="comment">//需求2：</span></span><br><span class="line"><span class="comment">//获取带参构造，并创建对象</span></span><br><span class="line"><span class="comment">//1.获取整体的字节码文件对象</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.a02reflectdemo1.Student&quot;</span>);</span><br><span class="line"><span class="comment">//2.获取有参构造方法</span></span><br><span class="line"><span class="type">Constructor</span> <span class="variable">con</span> <span class="operator">=</span> clazz.getDeclaredConstructor(String.class, <span class="type">int</span>.class);</span><br><span class="line"><span class="comment">//3.临时修改构造方法的访问权限（暴力反射）</span></span><br><span class="line">con.setAccessible(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//4.直接创建对象</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> (Student) con.newInstance(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">23</span>);</span><br><span class="line">System.out.println(stu);</span><br></pre></td></tr></table></figure>
<h2 id="17-获取成员变量"><a class="markdownIt-Anchor" href="#17-获取成员变量"></a> 1.7 获取成员变量</h2>
<p>规则：</p>
<p>​	get表示获取</p>
<p>​	Declared表示私有</p>
<p>​	最后的s表示所有，复数形式</p>
<p>​	如果当前获取到的是私有的，必须要临时修改访问权限，否则无法使用</p>
<p>方法名：</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Field[] getFields()</td>
<td>返回所有成员变量对象的数组（只能拿public的）</td>
</tr>
<tr>
<td>Field[] getDeclaredFields()</td>
<td>返回所有成员变量对象的数组，存在就能拿到</td>
</tr>
<tr>
<td>Field getField(String name)</td>
<td>返回单个成员变量对象（只能拿public的）</td>
</tr>
<tr>
<td>Field getDeclaredField(String name)</td>
<td>返回单个成员变量对象，存在就能拿到</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException &#123;</span><br><span class="line">        <span class="comment">//获取成员变量对象</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.reflectdemo.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取成员变量的对象（Field对象)只能获取public修饰的</span></span><br><span class="line">        Field[] fields1 = clazz.getFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields1) &#123;</span><br><span class="line">            System.out.println(field);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===============================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取成员变量的对象（public + private）</span></span><br><span class="line">        Field[] fields2 = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields2) &#123;</span><br><span class="line">            System.out.println(field);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===============================&quot;</span>);</span><br><span class="line">        <span class="comment">//获得单个成员变量对象</span></span><br><span class="line">        <span class="comment">//如果获取的属性是不存在的，那么会报异常</span></span><br><span class="line">        <span class="comment">//Field field3 = clazz.getField(&quot;aaa&quot;);</span></span><br><span class="line">        <span class="comment">//System.out.println(field3);//NoSuchFieldException</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Field</span> <span class="variable">field4</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;gender&quot;</span>);</span><br><span class="line">        System.out.println(field4);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===============================&quot;</span>);</span><br><span class="line">        <span class="comment">//获取单个成员变量（私有）</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">field5</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(field5);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String gender;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String address;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String gender, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(String gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> address</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAddress</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> address</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAddress</span><span class="params">(String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;, gender = &quot;</span> + gender + <span class="string">&quot;, address = &quot;</span> + address + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="18-获取成员变量并获取值和修改值"><a class="markdownIt-Anchor" href="#18-获取成员变量并获取值和修改值"></a> 1.8 获取成员变量并获取值和修改值</h2>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>void set(Object obj, Object value）</td>
<td>赋值</td>
</tr>
<tr>
<td>Object get(Object obj)</td>
<td>获取值</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException, IllegalAccessException &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">23</span>,<span class="string">&quot;广州&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lisi&quot;</span>,<span class="number">24</span>,<span class="string">&quot;北京&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//需求：</span></span><br><span class="line">        <span class="comment">//利用反射获取成员变量并获取值和修改值</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.reflectdemo.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取name成员变量</span></span><br><span class="line">        <span class="comment">//field就表示name这个属性的对象</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="comment">//临时修饰他的访问权限</span></span><br><span class="line">        field.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.设置(修改)name的值</span></span><br><span class="line">        <span class="comment">//参数一：表示要修改哪个对象的name？</span></span><br><span class="line">        <span class="comment">//参数二：表示要修改为多少？</span></span><br><span class="line">        field.set(s,<span class="string">&quot;wangwu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.获取name的值</span></span><br><span class="line">        <span class="comment">//表示我要获取这个对象的name的值</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> (String)field.get(s);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.打印结果</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line"></span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(ss);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> String gender;</span><br><span class="line">    <span class="keyword">public</span> String address;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String gender, String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(String gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> address</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAddress</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> address</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAddress</span><span class="params">(String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;, gender = &quot;</span> + gender + <span class="string">&quot;, address = &quot;</span> + address + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="19-获取成员方法"><a class="markdownIt-Anchor" href="#19-获取成员方法"></a> 1.9 获取成员方法</h2>
<p>规则：</p>
<p>​	get表示获取</p>
<p>​	Declared表示私有</p>
<p>​	最后的s表示所有，复数形式</p>
<p>​	如果当前获取到的是私有的，必须要临时修改访问权限，否则无法使用</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Method[] getMethods()</td>
<td>返回所有成员方法对象的数组（只能拿public的）</td>
</tr>
<tr>
<td>Method[] getDeclaredMethods()</td>
<td>返回所有成员方法对象的数组，存在就能拿到</td>
</tr>
<tr>
<td>Method getMethod(String name, Class&lt;?&gt;… parameterTypes)</td>
<td>返回单个成员方法对象（只能拿public的）</td>
</tr>
<tr>
<td>Method getDeclaredMethod(String name, Class&lt;?&gt;… parameterTypes)</td>
<td>返回单个成员方法对象，存在就能拿到</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo6</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException &#123;</span><br><span class="line">        <span class="comment">//1.获取class对象</span></span><br><span class="line">        Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.itheima.reflectdemo.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取方法</span></span><br><span class="line">        <span class="comment">//getMethods可以获取父类中public修饰的方法</span></span><br><span class="line">        Method[] methods1 = clazz.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods1) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===========================&quot;</span>);</span><br><span class="line">        <span class="comment">//获取所有的方法（包含私有）</span></span><br><span class="line">        <span class="comment">//但是只能获取自己类中的方法</span></span><br><span class="line">        Method[] methods2 = clazz.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method method : methods2) &#123;</span><br><span class="line">            System.out.println(method);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===========================&quot;</span>);</span><br><span class="line">        <span class="comment">//获取指定的方法（空参）</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method3</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;sleep&quot;</span>);</span><br><span class="line">        System.out.println(method3);</span><br><span class="line"></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method4</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;eat&quot;</span>,String.class);</span><br><span class="line">        System.out.println(method4);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取指定的私有方法</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method5</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;playGame&quot;</span>);</span><br><span class="line">        System.out.println(method5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="110-获取成员方法并运行"><a class="markdownIt-Anchor" href="#110-获取成员方法并运行"></a> 1.10 获取成员方法并运行</h2>
<p>方法</p>
<p>Object invoke(Object obj, Object… args) ：运行方法</p>
<p>参数一：用obj对象调用该方法</p>
<p>参数二：调用方法的传递的参数（如果没有就不写）</p>
<p>返回值：方法的返回值（如果没有就不写）</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.a02reflectdemo1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo6</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//1.获取字节码文件对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.a02reflectdemo1.Student&quot;</span>);</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//2.获取一个对象</span></span><br><span class="line">        <span class="comment">//需要用这个对象去调用方法</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.获取一个指定的方法</span></span><br><span class="line">        <span class="comment">//参数一：方法名</span></span><br><span class="line">        <span class="comment">//参数二：参数列表，如果没有可以不写</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">eatMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;eat&quot;</span>,String.class);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//运行</span></span><br><span class="line">        <span class="comment">//参数一：表示方法的调用对象</span></span><br><span class="line">        <span class="comment">//参数二：方法在运行时需要的实际参数</span></span><br><span class="line">        <span class="comment">//注意点：如果方法有返回值，那么需要接收invoke的结果</span></span><br><span class="line">        <span class="comment">//如果方法没有返回值，则不需要接收</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> (String) eatMethod.invoke(s, <span class="string">&quot;重庆小面&quot;</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> String gender;</span><br><span class="line">    <span class="keyword">public</span> String address;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生在学习&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生在睡觉&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">eat</span><span class="params">(String something)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;学生在吃&quot;</span> + something);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;学生已经吃完了，非常happy&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="111-练习泛型擦除掌握概念了解代码"><a class="markdownIt-Anchor" href="#111-练习泛型擦除掌握概念了解代码"></a> 1.11 练习泛型擦除（掌握概念，了解代码）</h2>
<p>理解：（掌握）</p>
<p>​	集合中的泛型只在java文件中存在，当编译成class文件之后，就没有泛型了。</p>
<p>代码示例：（了解）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.reflectdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo8</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//1.创建集合对象</span></span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">123</span>);</span><br><span class="line"><span class="comment">//        list.add(&quot;aaa&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.利用反射运行add方法去添加字符串</span></span><br><span class="line">        <span class="comment">//因为反射使用的是class字节码文件</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取class对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> list.getClass();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取add方法对象</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;add&quot;</span>, Object.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//运行方法</span></span><br><span class="line">        method.invoke(list,<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印集合</span></span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="112-练习修改字符串的内容掌握概念了解代码"><a class="markdownIt-Anchor" href="#112-练习修改字符串的内容掌握概念了解代码"></a> 1.12 练习：修改字符串的内容（掌握概念，了解代码）</h2>
<p>在这个练习中，我需要你掌握的是字符串不能修改的真正原因。</p>
<p>字符串，在底层是一个byte类型的字节数组，名字叫做value</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="type">byte</span>[] value;</span><br></pre></td></tr></table></figure>
<p>真正不能被修改的原因：final和private</p>
<p>final修饰value表示value记录的地址值不能修改。</p>
<p>private修饰value而且没有对外提供getvalue和setvalue的方法。所以，在外界不能获取或修改value记录的地址值。</p>
<p>如果要强行修改可以用反射：</p>
<p>代码示例：（了解）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="comment">// private final byte[] value= &#123;97,98,99&#125;;</span></span><br><span class="line"><span class="comment">// 没有对外提供getvalue和setvalue的方法，不能修改value记录的地址值</span></span><br><span class="line"><span class="comment">// 如果我们利用反射获取了value的地址值。</span></span><br><span class="line"><span class="comment">// 也是可以修改的，final修饰的value</span></span><br><span class="line"><span class="comment">// 真正不可变的value数组的地址值，里面的内容利用反射还是可以修改的，比较危险</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.获取class对象</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> s.getClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.获取value成员变量（private）</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;value&quot;</span>);</span><br><span class="line"><span class="comment">//但是这种操作非常危险</span></span><br><span class="line"><span class="comment">//JDK高版本已经屏蔽了这种操作，低版本还是可以的</span></span><br><span class="line"><span class="comment">//临时修改权限</span></span><br><span class="line">field.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.获取value记录的地址值</span></span><br><span class="line"><span class="type">byte</span>[] bytes = (<span class="type">byte</span>[]) field.get(s);</span><br><span class="line">bytes[<span class="number">0</span>] = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(s);<span class="comment">//dbc</span></span><br><span class="line">System.out.println(ss);<span class="comment">//dbc</span></span><br></pre></td></tr></table></figure>
<h2 id="113-练习反射和配置文件结合动态获取的练习重点"><a class="markdownIt-Anchor" href="#113-练习反射和配置文件结合动态获取的练习重点"></a> 1.13 练习，反射和配置文件结合动态获取的练习（重点）</h2>
<p>需求: 利用反射根据文件中的不同类名和方法名，创建不同的对象并调用方法。</p>
<p>分析:</p>
<p>①通过Properties加载配置文件</p>
<p>②得到类名和方法名</p>
<p>③通过类名反射得到Class对象</p>
<p>④通过Class对象创建一个对象</p>
<p>⑤通过Class对象得到方法</p>
<p>⑥调用方法</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectDemo9</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">//1.读取配置文件的信息</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">prop</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;day14-code\\prop.properties&quot;</span>);</span><br><span class="line">        prop.load(fis);</span><br><span class="line">        fis.close();</span><br><span class="line">        System.out.println(prop);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">classname</span> <span class="operator">=</span> prop.get(<span class="string">&quot;classname&quot;</span>) + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodname</span> <span class="operator">=</span> prop.get(<span class="string">&quot;methodname&quot;</span>) + <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.获取字节码文件对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(classname);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.要先创建这个类的对象</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">con</span> <span class="operator">=</span> clazz.getDeclaredConstructor();</span><br><span class="line">        con.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> con.newInstance();</span><br><span class="line">        System.out.println(o);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.获取方法的对象</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> clazz.getDeclaredMethod(methodname);</span><br><span class="line">        method.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.运行方法</span></span><br><span class="line">        method.invoke(o);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">配置文件中的信息：</span><br><span class="line">classname=com.itheima.a02reflectdemo1.Student</span><br><span class="line">methodname=sleep</span><br></pre></td></tr></table></figure>
<h2 id="114-利用发射保存对象中的信息重点"><a class="markdownIt-Anchor" href="#114-利用发射保存对象中的信息重点"></a> 1.14 利用发射保存对象中的信息（重点）</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyReflectDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalAccessException, IOException &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        对于任意一个对象，都可以把对象所有的字段名和值，保存到文件中去</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">       <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;小A&quot;</span>,<span class="number">23</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">167.5</span>,<span class="string">&quot;睡觉&quot;</span>);</span><br><span class="line">       <span class="type">Teacher</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">&quot;播妞&quot;</span>,<span class="number">10000</span>);</span><br><span class="line">       saveObject(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把对象里面所有的成员变量名和值保存到本地文件中</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveObject</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> IllegalAccessException, IOException &#123;</span><br><span class="line">        <span class="comment">//1.获取字节码文件的对象</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> obj.getClass();</span><br><span class="line">        <span class="comment">//2. 创建IO流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;myreflect\\a.txt&quot;</span>));</span><br><span class="line">        <span class="comment">//3. 获取所有的成员变量</span></span><br><span class="line">        Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            <span class="comment">//获取成员变量的名字</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> field.getName();</span><br><span class="line">            <span class="comment">//获取成员变量的值</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj);</span><br><span class="line">            <span class="comment">//写出数据</span></span><br><span class="line">            bw.write(name + <span class="string">&quot;=&quot;</span> + value);</span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        bw.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> gender;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="keyword">private</span> String hobby;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">char</span> gender, <span class="type">double</span> height, String hobby)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">        <span class="built_in">this</span>.hobby = hobby;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> gender</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(<span class="type">char</span> gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> height</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getHeight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> height</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHeight</span><span class="params">(<span class="type">double</span> height)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> hobby</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getHobby</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hobby;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> hobby</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setHobby</span><span class="params">(String hobby)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hobby = hobby;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;name = &quot;</span> + name + <span class="string">&quot;, age = &quot;</span> + age + <span class="string">&quot;, gender = &quot;</span> + gender + <span class="string">&quot;, height = &quot;</span> + height + <span class="string">&quot;, hobby = &quot;</span> + hobby + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(String name, <span class="type">double</span> salary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> salary</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSalary</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> salary</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSalary</span><span class="params">(<span class="type">double</span> salary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Teacher&#123;name = &quot;</span> + name + <span class="string">&quot;, salary = &quot;</span> + salary + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="2-动态代理"><a class="markdownIt-Anchor" href="#2-动态代理"></a> 2. 动态代理</h1>
<h2 id="21-好处"><a class="markdownIt-Anchor" href="#21-好处"></a> 2.1 好处：</h2>
<p>​	无侵入式的给方法增强功能</p>
<h2 id="22-动态代理三要素"><a class="markdownIt-Anchor" href="#22-动态代理三要素"></a> 2.2 动态代理三要素：</h2>
<p>1，真正干活的对象</p>
<p>2，代理对象</p>
<p>3，利用代理调用方法</p>
<p>切记一点：代理可以增强或者拦截的方法都在接口中，接口需要写在newProxyInstance的第二个参数里。</p>
<h2 id="23-代码实现"><a class="markdownIt-Anchor" href="#23-代码实现"></a> 2.3 代码实现：</h2>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        需求：</span></span><br><span class="line"><span class="comment">            外面的人想要大明星唱一首歌</span></span><br><span class="line"><span class="comment">             1. 获取代理的对象</span></span><br><span class="line"><span class="comment">                代理对象 = ProxyUtil.createProxy(大明星的对象);</span></span><br><span class="line"><span class="comment">             2. 再调用代理的唱歌方法</span></span><br><span class="line"><span class="comment">                代理对象.唱歌的方法(&quot;只因你太美&quot;);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">        <span class="comment">//1. 获取代理的对象</span></span><br><span class="line">        <span class="type">BigStar</span> <span class="variable">bigStar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigStar</span>(<span class="string">&quot;鸡哥&quot;</span>);</span><br><span class="line">        <span class="type">Star</span> <span class="variable">proxy</span> <span class="operator">=</span> ProxyUtil.createProxy(bigStar);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 调用唱歌的方法</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> proxy.sing(<span class="string">&quot;只因你太美&quot;</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 类的作用：</span></span><br><span class="line"><span class="comment">*       创建一个代理</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 方法的作用：</span></span><br><span class="line"><span class="comment">    *       给一个明星的对象，创建一个代理</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *  形参：</span></span><br><span class="line"><span class="comment">    *       被代理的明星对象</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *  返回值：</span></span><br><span class="line"><span class="comment">    *       给明星创建的代理</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 需求：</span></span><br><span class="line"><span class="comment">    *   外面的人想要大明星唱一首歌</span></span><br><span class="line"><span class="comment">    *   1. 获取代理的对象</span></span><br><span class="line"><span class="comment">    *      代理对象 = ProxyUtil.createProxy(大明星的对象);</span></span><br><span class="line"><span class="comment">    *   2. 再调用代理的唱歌方法</span></span><br><span class="line"><span class="comment">    *      代理对象.唱歌的方法(&quot;只因你太美&quot;);</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Star <span class="title function_">createProxy</span><span class="params">(BigStar bigStar)</span>&#123;</span><br><span class="line">       <span class="comment">/* java.lang.reflect.Proxy类：提供了为对象产生代理对象的方法：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        public static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</span></span><br><span class="line"><span class="comment">        参数一：用于指定用哪个类加载器，去加载生成的代理类</span></span><br><span class="line"><span class="comment">        参数二：指定接口，这些接口用于指定生成的代理长什么，也就是有哪些方法</span></span><br><span class="line"><span class="comment">        参数三：用来指定生成的代理对象要干什么事情*/</span></span><br><span class="line">        <span class="type">Star</span> <span class="variable">star</span> <span class="operator">=</span> (Star) Proxy.newProxyInstance(</span><br><span class="line">                ProxyUtil.class.getClassLoader(),<span class="comment">//参数一：用于指定用哪个类加载器，去加载生成的代理类</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;Star.class&#125;,<span class="comment">//参数二：指定接口，这些接口用于指定生成的代理长什么，也就是有哪些方法</span></span><br><span class="line">                <span class="comment">//参数三：用来指定生成的代理对象要干什么事情</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                        <span class="comment">/*</span></span><br><span class="line"><span class="comment">                        * 参数一：代理的对象</span></span><br><span class="line"><span class="comment">                        * 参数二：要运行的方法 sing</span></span><br><span class="line"><span class="comment">                        * 参数三：调用sing方法时，传递的实参</span></span><br><span class="line"><span class="comment">                        * */</span></span><br><span class="line">                        <span class="keyword">if</span>(<span class="string">&quot;sing&quot;</span>.equals(method.getName()))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;准备话筒，收钱&quot;</span>);</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;dance&quot;</span>.equals(method.getName()))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;准备场地，收钱&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//去找大明星开始唱歌或者跳舞</span></span><br><span class="line">                        <span class="comment">//代码的表现形式：调用大明星里面唱歌或者跳舞的方法</span></span><br><span class="line">                        <span class="keyword">return</span> method.invoke(bigStar,args);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">return</span> star;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Star</span> &#123;</span><br><span class="line">    <span class="comment">//我们可以把所有想要被代理的方法定义在接口当中</span></span><br><span class="line">    <span class="comment">//唱歌</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title function_">sing</span><span class="params">(String name)</span>;</span><br><span class="line">    <span class="comment">//跳舞</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">dance</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BigStar</span> <span class="keyword">implements</span> <span class="title class_">Star</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BigStar</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BigStar</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//唱歌</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sing</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;正在唱&quot;</span> + name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;谢谢&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//跳舞</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dance</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;正在跳舞&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;BigStar&#123;name = &quot;</span> + name + <span class="string">&quot;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="24-额外扩展"><a class="markdownIt-Anchor" href="#24-额外扩展"></a> 2.4 额外扩展</h2>
<p>动态代理，还可以拦截方法</p>
<p>比如：</p>
<p>​	在这个故事中，经济人作为代理，如果别人让邀请大明星去唱歌，打篮球，经纪人就增强功能。</p>
<p>​	但是如果别人让大明星去扫厕所，经纪人就要拦截，不会去调用大明星的方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 类的作用：</span></span><br><span class="line"><span class="comment">*       创建一个代理</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Star <span class="title function_">createProxy</span><span class="params">(BigStar bigStar)</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">newProxyInstance</span><span class="params">(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</span></span><br><span class="line">        <span class="type">Star</span> <span class="variable">star</span> <span class="operator">=</span> (Star) Proxy.newProxyInstance(</span><br><span class="line">                ProxyUtil.class.getClassLoader(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;Star.class&#125;,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="string">&quot;cleanWC&quot;</span>.equals(method.getName()))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;拦截，不调用大明星的方法&quot;</span>);</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="comment">//如果是其他方法，正常执行</span></span><br><span class="line">                        <span class="keyword">return</span> method.invoke(bigStar,args);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line">        <span class="keyword">return</span> star;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="25-动态代理的练习"><a class="markdownIt-Anchor" href="#25-动态代理的练习"></a> 2.5 动态代理的练习</h2>
<p>​	 对add方法进行增强，对remove方法进行拦截，对其他方法不拦截也不增强</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyProxyDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//动态代码可以增强也可以拦截</span></span><br><span class="line">        <span class="comment">//1.创建真正干活的人</span></span><br><span class="line">        ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.创建代理对象</span></span><br><span class="line">        <span class="comment">//参数一：类加载器。当前类名.class.getClassLoader()</span></span><br><span class="line">        <span class="comment">//                 找到是谁，把当前的类，加载到内存中了，我再麻烦他帮我干一件事情，把后面的代理类，也加载到内存</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//参数二：是一个数组，在数组里面写接口的字节码文件对象。</span></span><br><span class="line">        <span class="comment">//                  如果写了List，那么表示代理，可以代理List接口里面所有的方法，对这些方法可以增强或者拦截</span></span><br><span class="line">        <span class="comment">//                  但是，一定要写ArrayList真实实现的接口</span></span><br><span class="line">        <span class="comment">//                  假设在第二个参数中，写了MyInter接口，那么是错误的。</span></span><br><span class="line">        <span class="comment">//                  因为ArrayList并没有实现这个接口，那么就无法对这个接口里面的方法，进行增强或拦截</span></span><br><span class="line">        <span class="comment">//参数三：用来创建代理对象的匿名内部类</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">proxyList</span> <span class="operator">=</span> (List) Proxy.newProxyInstance(</span><br><span class="line">                <span class="comment">//参数一：类加载器</span></span><br><span class="line">                MyProxyDemo1.class.getClassLoader(),</span><br><span class="line">                <span class="comment">//参数二：是一个数组，表示代理对象能代理的方法范围</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;List.class&#125;,</span><br><span class="line">                <span class="comment">//参数三：本质就是代理对象</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="comment">//invoke方法参数的意义</span></span><br><span class="line">                    <span class="comment">//参数一：表示代理对象，一般不用（了解）</span></span><br><span class="line">                    <span class="comment">//参数二：就是方法名，我们可以对方法名进行判断，是增强还是拦截</span></span><br><span class="line">                    <span class="comment">//参数三：就是下面第三步调用方法时，传递的参数。</span></span><br><span class="line">                    <span class="comment">//举例1：</span></span><br><span class="line">                    <span class="comment">//list.add(&quot;阿玮好帅&quot;);</span></span><br><span class="line">                    <span class="comment">//此时参数二就是add这个方法名</span></span><br><span class="line">                    <span class="comment">//此时参数三 args[0] 就是 阿玮好帅</span></span><br><span class="line">                    <span class="comment">//举例2：</span></span><br><span class="line">                    <span class="comment">//list.set(1, &quot;aaa&quot;);</span></span><br><span class="line">                    <span class="comment">//此时参数二就是set这个方法名</span></span><br><span class="line">                    <span class="comment">//此时参数三  args[0] 就是 1  args[1]&quot;aaa&quot;</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                        <span class="comment">//对add方法做一个增强，统计耗时时间</span></span><br><span class="line">                        <span class="keyword">if</span> (method.getName().equals(<span class="string">&quot;add&quot;</span>)) &#123;</span><br><span class="line">                            <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">                            <span class="comment">//调用集合的方法，真正的添加数据</span></span><br><span class="line">                            method.invoke(list, args);</span><br><span class="line">                            <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">                            System.out.println(<span class="string">&quot;耗时时间：&quot;</span> + (end - start));</span><br><span class="line">                            <span class="comment">//需要进行返回，返回值要跟真正增强或者拦截的方法保持一致</span></span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.getName().equals(<span class="string">&quot;remove&quot;</span>) &amp;&amp; args[<span class="number">0</span>] <span class="keyword">instanceof</span> Integer)&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;拦截了按照索引删除的方法&quot;</span>);</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.getName().equals(<span class="string">&quot;remove&quot;</span>))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;拦截了按照对象删除的方法&quot;</span>);</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="comment">//如果当前调用的是其他方法,我们既不增强，也不拦截</span></span><br><span class="line">                            method.invoke(list,args);</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.调用方法</span></span><br><span class="line">        <span class="comment">//如果调用者是list，就好比绕过了第二步的代码，直接添加元素</span></span><br><span class="line">        <span class="comment">//如果调用者是代理对象，此时代理才能帮我们增强或者拦截</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//每次调用方法的时候，都不会直接操作集合</span></span><br><span class="line">        <span class="comment">//而是先调用代理里面的invoke，在invoke方法中进行判断，可以增强或者拦截</span></span><br><span class="line">        proxyList.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">        proxyList.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        proxyList.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">        proxyList.add(<span class="string">&quot;ddd&quot;</span>);</span><br><span class="line"></span><br><span class="line">        proxyList.remove(<span class="number">0</span>);</span><br><span class="line">        proxyList.remove(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印集合</span></span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>NodeJS安装</title>
    <url>/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<div id="postchat_postcontent"><h1 id="nodejs安装"><a class="markdownIt-Anchor" href="#nodejs安装"></a> NodeJS安装</h1>
<h2 id="1-双击安装包"><a class="markdownIt-Anchor" href="#1-双击安装包"></a> 1. 双击安装包</h2>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818155659933-17187679229581.png" alt="image-20220818155659933"></p>
<h2 id="2-选择安装目录"><a class="markdownIt-Anchor" href="#2-选择安装目录"></a> 2. 选择安装目录</h2>
<p>选择安装到一个，没有中文，没有空格的目录下（新建一个文件夹NodeJS）</p>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818160024929-17187679402573.png" alt="image-20220818160024929"></p>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818160241172-17187679524725.png" alt="image-20220818160241172"></p>
<h2 id="3-验证nodejs环境变量"><a class="markdownIt-Anchor" href="#3-验证nodejs环境变量"></a> 3. 验证NodeJS环境变量</h2>
<p>NodeJS 安装完毕后，会自动配置好环境变量，我们验证一下是否安装成功，通过： node -v</p>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818160357897-17187679635117.png" alt="image-20220818160357897"></p>
<h2 id="4-配置npm的全局安装路径"><a class="markdownIt-Anchor" href="#4-配置npm的全局安装路径"></a> 4. 配置npm的全局安装路径</h2>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818161218016-17187679805859.png" alt="image-20220818161218016"></p>
<p>使用管理员身份运行命令行，在命令行中，执行如下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config set prefix &quot;E:\develop\NodeJS&quot;</span><br></pre></td></tr></table></figure>
<p>注意：E:\develop\NodeJS 这个目录是NodeJS的安装目录</p>
<h2 id="5-切换npm的淘宝镜像"><a class="markdownIt-Anchor" href="#5-切换npm的淘宝镜像"></a> 5. 切换npm的淘宝镜像</h2>
<p>使用管理员身份运行命令行，在命令行中，执行如下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<h2 id="6-安装vue-cli"><a class="markdownIt-Anchor" href="#6-安装vue-cli"></a> 6. 安装Vue-cli</h2>
<p>使用管理员身份运行命令行，在命令行中，执行如下指令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure>
<p>这个过程中，会联网下载，可能会耗时几分钟，耐心等待。</p>
<p><img src="/2024/06/19/NodeJS%E5%AE%89%E8%A3%85/image-20220818161134576-171876801013913.png" alt="image-20220818161134576"></p>
</div>]]></content>
      <categories>
        <category>安装</category>
      </categories>
      <tags>
        <tag>NodeJS</tag>
      </tags>
  </entry>
  <entry>
    <title>考研规划</title>
    <url>/2024/07/16/%E8%80%83%E7%A0%94%E8%A7%84%E5%88%92/</url>
    <content><![CDATA[<div id="postchat_postcontent"><h2 id="math"><a class="markdownIt-Anchor" href="#math"></a> Math</h2>
<ol>
<li>7月中旬前，基础阶段
<ul>
<li>《基础30讲》 高等数学</li>
<li>《基础30讲》 线性代数</li>
<li>《基础30讲》 概率论与数理统计</li>
<li>《题源1000题》基础篇</li>
<li>《真题大全解》1987年-2012年</li>
</ul>
</li>
<li>7月中旬-9月中旬，强化阶段
<ul>
<li>《高等数学18讲》</li>
<li>《线性代数9讲》</li>
<li>《概率论与数理统计9讲》</li>
<li>《题源1000题》强化篇</li>
</ul>
</li>
<li>9月-12月，冲刺阶段
<ul>
<li>《真题大全解》2013年-2024年</li>
<li>《命题人8套卷》</li>
<li>《最后4套卷》</li>
</ul>
</li>
</ol>
<hr>
<h2 id="专业课"><a class="markdownIt-Anchor" href="#专业课"></a> 专业课</h2>
<ol>
<li>8月中旬前，基础阶段
<ul>
<li>基础复习</li>
<li>搞定小题</li>
</ul>
</li>
<li>8月中旬-9月，强化阶段
<ul>
<li>重新复习</li>
<li>搞定大题</li>
</ul>
</li>
<li>10月-12月，冲刺阶段
<ul>
<li>搞定套题: 真题+模拟题</li>
<li>查缺补漏</li>
</ul>
</li>
</ol>
<hr>
<h2 id="english"><a class="markdownIt-Anchor" href="#english"></a> English</h2>
<ol>
<li>5月中旬前
<ul>
<li>大纲词汇</li>
<li>语法长难句</li>
</ul>
</li>
<li>6月、7月，旧年真题，侧重打基础
<ul>
<li>2002年-2009年共8年真题</li>
</ul>
</li>
<li>8月、9月，真题精刷，侧重题型和解题
<ul>
<li>2010年-2017年共8年真题</li>
<li>阅读写作专项提升</li>
</ul>
</li>
<li>10月、11月，真题精刷，侧重题型和解题
<ul>
<li>2018年-2021年共4年真题</li>
<li>复习重点/难点</li>
</ul>
</li>
<li>11月-12月中旬，真题模考，预测25考点
<ul>
<li>2022年-2024年共3年真题</li>
<li>复习所有真题，关注易错</li>
</ul>
</li>
</ol>
<hr>
<h2 id="politics"><a class="markdownIt-Anchor" href="#politics"></a> Politics</h2>
<ol>
<li>7-10月，基础阶段
<ul>
<li>徐涛强化班视频（马原、思修、史纲、毛中特、新思想）</li>
<li>徐涛《考研政治核心考案》</li>
<li>肖秀荣《考研政治1000题》（一刷）</li>
<li>腿姐技巧班视频</li>
<li>肖秀荣《考研政治背诵手册》</li>
<li>肖秀荣《考研政治1000题》（二刷）</li>
</ul>
</li>
<li>11月，强化阶段
<ul>
<li>继续看书：肖秀荣《考研政治背诵手册》</li>
<li>背诵选择题知识点</li>
<li>模考肖八选择题：刷选择题，主观题不用做</li>
<li>开始复习时政</li>
</ul>
</li>
<li>12月，冲刺+背诵阶段
<ul>
<li>反复看书：肖秀荣《考研政治背诵手册》，背诵选择题知识点</li>
<li>肖四选择题刷三遍</li>
<li>背诵肖四主观题</li>
</ul>
</li>
</ol>
</div>]]></content>
      <categories>
        <category>考研</category>
      </categories>
  </entry>
  <entry>
    <title>Git</title>
    <url>/2024/07/12/Git%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<div id="postchat_postcontent"><p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/gitlogo.png" alt="gitlogo"></p>
<hr>
# git 教程
<h1 id="1版本管理工具概念"><a class="markdownIt-Anchor" href="#1版本管理工具概念"></a> 1.版本管理工具概念</h1>
<p>在大学写论文的时候的时候碰到过如下的现象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;&lt;论文第一版.doc&gt;&gt;</span><br><span class="line">&lt;&lt;论文第二版.doc&gt;&gt;</span><br><span class="line">&lt;&lt;论文第三版.doc&gt;&gt;</span><br><span class="line">&lt;&lt;论文最终版.doc&gt;&gt;</span><br><span class="line">&lt;&lt;论文最终版2.doc&gt;&gt;</span><br></pre></td></tr></table></figure>
<p>类似的问题我曾经也碰到过很多,例如:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">领导让写文档,写好了,领导让修改,改好了,领导觉得第一版不错,改回来吧,此时内心一脸懵,第一版长啥样没存档啊</span><br></pre></td></tr></table></figure>
<p>实际上,代码开发中也需要这样的软件来管理我们的代码. 例如我们经常会碰到如下的现象:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">改之前好好的,改完就报错了,也没怎么修改啊</span><br></pre></td></tr></table></figure>
<p>在这种情况下如果不能查看修改之前的代码,查找问题是非常困难的.</p>
<p>如果有一个软件能记录我们对文档的所有修改,所有版本,那么上面的问题讲迎刃而解.而这类软件我们一般叫做版本控制工具</p>
<p>版本管理工具一般具有如下特性:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1) 能够记录历史版本,回退历史版本</span><br><span class="line">2) 团队开发,方便代码合并</span><br></pre></td></tr></table></figure>
<h1 id="2-版本管理工具介绍"><a class="markdownIt-Anchor" href="#2-版本管理工具介绍"></a> 2. 版本管理工具介绍</h1>
<p>现在比较流行的版本管理工具是git ,但是实际上git 是近几年才发展起来的,可能有一些老的项目,还在用一些老的软件,比如svn</p>
<h2 id="21版本管理发展简史维基百科"><a class="markdownIt-Anchor" href="#21版本管理发展简史维基百科"></a> 2.1版本管理发展简史(维基百科)</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571983065236.png" alt="1571983065236"></p>
<h3 id="211-svnsubversion"><a class="markdownIt-Anchor" href="#211-svnsubversion"></a> 2.1.1 SVN(SubVersion)</h3>
<p>工作流程</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SVN是集中式版本控制系统，版本库是集中放在中央服务器的.</span><br><span class="line">工作流程如下:</span><br><span class="line">	1.从中央服务器远程仓库下载代码</span><br><span class="line">	2.修改后将代码提交到中央服务器远程仓库</span><br></pre></td></tr></table></figure>
<p>优缺点:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">优点: 简单,易操作</span><br><span class="line">缺点:所有代码必须放在中央服务器  </span><br><span class="line"> 	   1.服务器一旦宕机无法提交代码,即容错性较差</span><br><span class="line">      2.离线无法提交代码,无法及时记录我们的提交行为</span><br></pre></td></tr></table></figure>
<p>svn流程图</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/svn.jpg" alt="svn"></p>
<h3 id="212-git"><a class="markdownIt-Anchor" href="#212-git"></a> 2.1.2 Git</h3>
<p>工作流程</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Git是分布式版本控制系统（Distributed Version Control System，简称 DVCS），分为两种类型的仓库：</span><br><span class="line">本地仓库和远程仓库</span><br><span class="line">工作流程如下</span><br><span class="line">    1．从远程仓库中克隆或拉取代码到本地仓库(clone/pull)</span><br><span class="line">    2．从本地进行代码修改</span><br><span class="line">    3．在提交前先将代码提交到暂存区</span><br><span class="line">    4．提交到本地仓库。本地仓库中保存修改的各个历史版本</span><br><span class="line">    5．修改完成后，需要和团队成员共享代码时，将代码push到远程仓库</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/git.png" alt="git"></p>
<p>总结:git和svn的区别</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. svn 是集中式版本控制工具,git 是分布式版本控制工具</span><br><span class="line">2. svn 不支持离线提交,git 支持离线提交代码</span><br></pre></td></tr></table></figure>
<h1 id="3-git-发展简史"><a class="markdownIt-Anchor" href="#3-git-发展简史"></a> 3. Git 发展简史</h1>
<p>林纳斯·本纳第克特·托瓦兹（Linus Benedict Torvalds, 1969年~ ）</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571987252740.png" alt="1571987252740"></p>
<p>很多人都知道，Linus在1991年创建了开源的Linux，从此，Linux系统不断发展，已经成为最大的服务器系统软件了。</p>
<p>Linus虽然创建了Linux，但Linux的壮大是靠全世界热心的志愿者参与的，这么多人在世界各地为Linux编写代码，那Linux的代码是如何管理的呢？</p>
<p>事实是，在2002年以前，世界各地的志愿者把源代码文件通过diff的方式发给Linus，然后由Linus本人通过<strong>手工方式合并代码！</strong></p>
<p>你也许会想，为什么Linus不把Linux代码放到版本控制系统里呢？那个年代不是有CVS、SVN这些免费的版本控制系统吗？因为Linus坚定地反对CVS和SVN，这些集中式的版本控制系统不但速度慢，<strong>而且必须联网才能使用</strong>。有一些商用的版本控制系统，虽然比CVS、SVN好用，但那是<strong>付费</strong>的，和Linux的开源精神不符。</p>
<p>不过，到了2002年，Linux系统已经发展了十年了，代码库之大让Linus很难继续通过手工方式管理了，社区的弟兄们也对这种方式表达了强烈不满，于是Linus选择了一个商业的版本控制系统BitKeeper，BitKeeper的东家BitMover公司出于人道主义精神，授权Linux社区免费使用这个版本控制系统。而授权的前提是:Linux 社区的人不能开发具有相同功能的竞争产品!</p>
<p>另一方面,BitKeeper不是开源的. 显然与Linux 的开源精神不相符,所以linux 社区的很多人抱怨,不愿意使用.</p>
<p>典型的就是  Andrew Tridgell  (Samba 开发服务的创造者) 非常不满.偷偷违反了和 BitKeeper 的协议,反编译 BitKeeper 的源代码,开发了个爬虫,然后爬取信息被人发现了. BitKeeper 公司的领导非常不满意,然后开始发布消息说,(下个版本)不再为Linux 提供免费的服务.</p>
<p>Linus  本人就出面协调(几周或者几个月),但是不管用, 没办法. 估计谈判的过程感觉到了憋屈–“吃人嘴短,拿人手软”</p>
<p>Linus  本人 花了10天的时间Git 出来了,一个月之内，Linux系统的源码已经由Git管理了！</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571988966446.png" alt="1571988966446"></p>
<p>Git 出来以后毕竟是一个人做的,开始并不好用(刚开始只能用勉强可以用来形容), 还是很多人抱怨,发展了很多年都没有干过其他软件.</p>
<p>直到 2008年，GitHub网站上线了，它为开源项目免费提供Git存储，无数开源项目开始迁移至GitHub,从此git 迎来了飞速发展,当下git 已经成为了最流行的版本控制工具</p>
<h1 id="4-git-的安装"><a class="markdownIt-Anchor" href="#4-git-的安装"></a> 4. Git 的安装</h1>
<h2 id="41-git-的下载"><a class="markdownIt-Anchor" href="#41-git-的下载"></a> 4.1 git 的下载</h2>
<p>下载地址： <a href="https://git-scm.com/download">https://git-scm.com/download</a></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571990833074.png" alt="1571990833074"></p>
<p>附件</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571991253594.png" alt="1571991253594"></p>
<hr>
## 4.2 安装
<ol>
<li>
<p>按照附件的 顺序直接下一步傻瓜式安装即可</p>
</li>
<li>
<p>其中安装的过程中需要填写一个邮箱和用户名(任意即可)</p>
</li>
</ol>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572001054551.png" alt="1572001054551"></p>
<ol start="3">
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mrow><mtext>注意</mtext><mo>:</mo><mtext>安装完毕请重启资源管理器</mtext><mo separator="true">,</mo><mtext>或者重启电脑</mtext><mo stretchy="false">!</mo><mo stretchy="false">!</mo><mo stretchy="false">!</mo></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{注意: 安装完毕请重启资源管理器,或者重启电脑!!!}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord" style="color:red;"><span class="mord cjk_fallback" style="color:red;">注</span><span class="mord cjk_fallback" style="color:red;">意</span><span class="mspace" style="color:red;margin-right:0.2777777777777778em;"></span><span class="mrel" style="color:red;">:</span><span class="mspace" style="color:red;margin-right:0.2777777777777778em;"></span><span class="mord cjk_fallback" style="color:red;">安</span><span class="mord cjk_fallback" style="color:red;">装</span><span class="mord cjk_fallback" style="color:red;">完</span><span class="mord cjk_fallback" style="color:red;">毕</span><span class="mord cjk_fallback" style="color:red;">请</span><span class="mord cjk_fallback" style="color:red;">重</span><span class="mord cjk_fallback" style="color:red;">启</span><span class="mord cjk_fallback" style="color:red;">资</span><span class="mord cjk_fallback" style="color:red;">源</span><span class="mord cjk_fallback" style="color:red;">管</span><span class="mord cjk_fallback" style="color:red;">理</span><span class="mord cjk_fallback" style="color:red;">器</span><span class="mpunct" style="color:red;">,</span><span class="mspace" style="color:red;margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback" style="color:red;">或</span><span class="mord cjk_fallback" style="color:red;">者</span><span class="mord cjk_fallback" style="color:red;">重</span><span class="mord cjk_fallback" style="color:red;">启</span><span class="mord cjk_fallback" style="color:red;">电</span><span class="mord cjk_fallback" style="color:red;">脑</span><span class="mclose" style="color:red;">!</span><span class="mclose" style="color:red;">!</span><span class="mclose" style="color:red;">!</span></span></span></span></span></p>
</li>
<li>
<p>更改语言</p>
</li>
</ol>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571992521110.png" alt="1571992521110"></p>
<h1 id="5-git-工作流程"><a class="markdownIt-Anchor" href="#5-git-工作流程"></a> 5. Git 工作流程</h1>
<h2 id="51-git-初始化"><a class="markdownIt-Anchor" href="#51-git-初始化"></a> 5.1 Git 初始化</h2>
<p>我们先初始化一个本地仓</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1) 新建测试文件夹</span><br><span class="line">2) 进入文件夹,然后右键创建版本库</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1571993852280.png" alt="1571993852280"></p>
<p>此时 我们看到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1) 文件夹上多了一个绿色图标(如果没有请看本章节 5.3小节说明)</span><br><span class="line">2) 文件夹内部生成了一个.git 隐藏文件夹(需要设置隐藏文件夹可见)</span><br></pre></td></tr></table></figure>
<h2 id="52-git-流程"><a class="markdownIt-Anchor" href="#52-git-流程"></a> 5.2  git 流程</h2>
<h3 id="521-流程图"><a class="markdownIt-Anchor" href="#521-流程图"></a> 5.2.1 流程图</h3>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/git%E6%B5%81%E7%A8%8B.png" alt="git流程"></p>
<h3 id="522概念即详解"><a class="markdownIt-Anchor" href="#522概念即详解"></a> 5.2.2概念即详解</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">本地仓库：是在开发人员自己电脑上的Git仓库,存放我们的代码(.git 隐藏文件夹就是我们的本地仓库)		</span><br><span class="line">远程仓库：是在远程服务器上的Git仓库,存放代码(可以是github.com或者gitee.com 上的仓库,或者自己该公司的服务器)</span><br><span class="line">工作区: 我们自己写代码(文档)的地方</span><br><span class="line">暂存区: 在 本地仓库中的一个特殊的文件(index) 叫做暂存区,临时存储我们即将要提交的文件</span><br><span class="line">------------</span><br><span class="line">Clone：克隆，就是将远程仓库复制到本地仓库</span><br><span class="line">Push：推送，就是将本地仓库代码上传到远程仓库</span><br><span class="line">Pull：拉取，就是将远程仓库代码下载到本地仓库,并将代码 克隆到本地工作区</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/git%E6%B5%81%E7%A8%8B_%E8%AF%A6%E8%A7%A3.png" alt="git流程_详解"></p>
<h1 id="6git-的基本使用01-tortoisegit-操作本地仓库"><a class="markdownIt-Anchor" href="#6git-的基本使用01-tortoisegit-操作本地仓库"></a> 6.Git 的基本使用01-TortoiseGit 操作本地仓库</h1>
<h2 id="61-初始化仓库"><a class="markdownIt-Anchor" href="#61-初始化仓库"></a> 6.1  初始化仓库</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">方法一: </span><br><span class="line">新建一个文件夹,进入文件夹内部操作</span><br><span class="line">1)右键--&gt; 在这里创建Git 版本库 </span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572161580344.png" alt="1572161580344"></p>
<p>注意: 不要直接在桌面上操作,否则桌面就是一个仓库</p>
 <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">方法二:</span><br><span class="line">2) 右键--&gt;Git GUI here</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572162906623.png" alt="1572162906623"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">方法三: 命令行模式</span><br><span class="line">2) git init </span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572163015102.png" alt="1572163015102"></p>
<p>创建完毕仓库,我们发现,此时我们创建的文件夹下有一个.git 文件已经生成了</p>
<p>并且仓库文件夹上多了一个 绿色图标</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572164583708.png" alt="1572164583708"></p>
<h2 id="62-添加文件"><a class="markdownIt-Anchor" href="#62-添加文件"></a> 6.2 添加文件</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1)在仓库中新建一个文件</span><br><span class="line">2)选中新建的文件--&gt;右键--&gt; TortoiseGit--&gt; 添加</span><br><span class="line">3)此时我们看到文件夹上多了一个 &quot;加号&quot;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572164475555.png" alt="1572164475555">g)</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572165109016.png" alt="1572165109016"></p>
<h2 id="63-提交文件至本地仓库"><a class="markdownIt-Anchor" href="#63-提交文件至本地仓库"></a> 6.3 提交文件至本地仓库</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1)选中文件</span><br><span class="line">2) 右键--git提交</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572165471421.png" alt="1572165471421"></p>
<h2 id="64-修改文件与再次提交文件"><a class="markdownIt-Anchor" href="#64-修改文件与再次提交文件"></a> 6.4 修改文件,与再次提交文件</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">当我们修改文件以后,文件上多了一个红色感叹号,表示我们上次提交后该文件被修改过</span><br><span class="line">提交后文件图标又变成绿色</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572165676716.png" alt="1572165676716"></p>
<h2 id="65-文件状态讲解"><a class="markdownIt-Anchor" href="#65-文件状态讲解"></a> 6.5 文件状态讲解</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Git工作目录下的文件存在两种状态：</span><br><span class="line">1 untracked 未跟踪（未被纳入版本控制） :  比如新建的文件(此时文件夹上没有图标或者有一个&quot;问号&quot;)</span><br><span class="line">2 tracked 已跟踪（被纳入版本控制）     </span><br><span class="line">    2.1 Staged 已暂存状态            : 添加 但未提交状态(此时文件夹上有一个&quot;加号&quot;)</span><br><span class="line">	2.2 Unmodified 未修改状态        : 已提交(此时文件夹上有一个&quot;对号&quot;)</span><br><span class="line">	2.3 Modified 已修改状态          : 修改了,但是还没有提交 (此时文件夹上有一个&quot;红色感叹号&quot;)</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1569293793902.png" alt="1569293793902"></p>
<p>这些文件的状态会随着我们执行Git的命令发生变化</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1566627767390.png" alt="1566627767390"></p>
<h2 id="66-修改文件不提交和上一个版本比较差异diff"><a class="markdownIt-Anchor" href="#66-修改文件不提交和上一个版本比较差异diff"></a> 6.6 修改文件,不提交和上一个版本比较差异(diff)</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">修改文件,此时不要提交</span><br><span class="line">选中文件--&gt;右键--&gt; TortoiseGit--&gt; 比较差异</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572167540734.png" alt="1572167540734"></p>
<h2 id="67-查看提交历史记录"><a class="markdownIt-Anchor" href="#67-查看提交历史记录"></a> 6.7 查看提交历史记录</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">选中文件</span><br><span class="line">右键--&gt; TortoiseGit--&gt; 显示日志</span><br><span class="line">此时我们可以看到所有的历史提交记录</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572167842481.png" alt="1572167842481"></p>
<p>##6.8 回退至历史版本</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">右键--&gt; TortoiseGit--&gt; 显示日志</span><br><span class="line">选中某个版本--&gt; 进行如下操作</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572171034508.png" alt="1572171034508"></p>
<h2 id="69-文件删除"><a class="markdownIt-Anchor" href="#69-文件删除"></a> 6.9 文件删除</h2>
<p>###6.9.1本地删除与恢复</p>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1) 直接选中文件删除的话,其实只是删除了本地工作区的文件,并没有删除 仓库中的文件</span><br><span class="line">   此时时可以回退的, 比如我们进行如下操作</span><br><span class="line">   1)文件删除</span><br><span class="line">   2)右键--&gt; TortoiseGit--&gt; 还原</span><br><span class="line">   此时我们发现文件又被恢复了</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572169387835.png" alt="1572169387835"></p>
<h3 id="692从版本库删除"><a class="markdownIt-Anchor" href="#692从版本库删除"></a> 6.9.2从版本库删除</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2) 我们如果真的想要将某个文件从服务器删除,需要进行如下操作</span><br><span class="line">   1) 删除文件,和上面的操作一样</span><br><span class="line">   2) 提交,此时服务文件已经删除了(历史版本还在,还是可以恢复)</span><br></pre></td></tr></table></figure>
<h3 id="693从版本库删除但是不删除本地"><a class="markdownIt-Anchor" href="#693从版本库删除但是不删除本地"></a> 6.9.3从版本库删除,但是不删除本地</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">我们可以如下操作,只删除服务器上的文件,但是本地文件并不删除</span><br><span class="line">备注: 删除之后需要提交,才会真正的从服务器删除</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572171572963.png" alt="1572171572963"></p>
<h2 id="610-忽略提交"><a class="markdownIt-Anchor" href="#610-忽略提交"></a> 6.10 忽略提交</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">有时候我们一些文件是不需要提交的比如说idea/eclipse 开发的代码自动生成的配置文件</span><br><span class="line">如何配置不提交呢</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572172137494.png" alt="1572172137494"></p>
<p>此时我们的根目录下会生成一个.gitignore 文件</p>
<p>忽略文件如何阅读,常见格式</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 所有以.a 结尾的文件讲被忽略(递归)</span></span><br><span class="line"><span class="string">*.a</span></span><br><span class="line"><span class="comment"># 不管其他规则怎样,强制不忽略  lib.a</span></span><br><span class="line"><span class="type">!lib.a</span></span><br><span class="line"><span class="comment"># 只忽略 文件 TODO (注意这里是文件)</span></span><br><span class="line"><span class="string">/TODO</span></span><br><span class="line"><span class="comment"># 忽略 build文件夹下所有内容(递归) 这里是文件夹</span></span><br><span class="line"><span class="string">build/</span></span><br><span class="line"><span class="comment"># 忽略 doc 目录下以 *.txt 结尾的文件 (不递归)</span></span><br><span class="line"><span class="string">doc/*.txt</span></span><br><span class="line"><span class="comment"># 忽略 doc 目录下以 *.pdf 结尾的文件 (递归)</span></span><br><span class="line"><span class="string">doc/**/*.pdf</span></span><br></pre></td></tr></table></figure>
<p>当然理解了上述规则,我们也可以手动编辑该文件,而不用通过窗口化操作(如果不嫌麻烦)</p>
<h1 id="7-git-的基本使用02-tortoisegit-操作本地仓库分支"><a class="markdownIt-Anchor" href="#7-git-的基本使用02-tortoisegit-操作本地仓库分支"></a> 7. Git 的基本使用02-TortoiseGit 操作本地仓库(分支)</h1>
<h2 id="71-分支的概念"><a class="markdownIt-Anchor" href="#71-分支的概念"></a> 7.1 分支的概念</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">几乎所有的版本控制系统都以某种形式支持分支。 使用分支意味着你可以把你的工作从开发主线上分离开来，避免影响开发主线。多线程开发,可以同时开启多个任务的开发,多个任务之间互不影响.</span><br></pre></td></tr></table></figure>
<h2 id="72-为何要使用分支"><a class="markdownIt-Anchor" href="#72-为何要使用分支"></a> 7.2 为何要使用分支</h2>
<p>先看单线程开发</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572173978185.png" alt="1572173978185"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">思考如下现象</span><br><span class="line">    10.1 日 业务部门提出需求 : 明年 元旦3天做2个促销活动</span><br><span class="line">	1) 12.31 号上线活动1, </span><br><span class="line">	2) 1.4 号上线活动2 ,同时 要求撤销 活动1</span><br><span class="line">    你所在 部门领导 为了保证能顺利完成,要求 11.15 号完成 上述连个功能的开发工作</span><br><span class="line">此时作为开发人员:我要面临两个文件, 活动1 的代码,即要存在(12.31 要用)又要不存在(1.4 号要求删除) ,我们怎么做?</span><br><span class="line">显然比较棘手,如果使用分支(可以理解为将代码复制一份)将很好解决</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572174740013.png" alt="1572174740013"></p>
<h2 id="73-创建分支"><a class="markdownIt-Anchor" href="#73-创建分支"></a> 7.3 创建分支</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">到现在为止,我们一直使用的时主分支(master)</span><br><span class="line">在主分支上操作创建分支</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572178189980.png" alt="1572178189980"></p>
<h2 id="74-分支的查看切换"><a class="markdownIt-Anchor" href="#74-分支的查看切换"></a> 7.4 分支的查看切换</h2>
<h3 id="741查看分支"><a class="markdownIt-Anchor" href="#741查看分支"></a> 7.4.1查看分支</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查看版本分支图,此时我们看到有两个分支</span><br><span class="line">当然,我们可以创建多个分支</span><br><span class="line">可以看到多个分支的图形</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572179420706.png" alt="1572179420706"></p>
<h3 id="742切换分支"><a class="markdownIt-Anchor" href="#742切换分支"></a> 7.4.2切换分支</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">右键--&gt; 检出</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572180057481.png" alt="1572180057481">g)</p>
<p>##7.5 分支的合并与删除</p>
<h3 id="751合并"><a class="markdownIt-Anchor" href="#751合并"></a> 7.5.1合并</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">我们将代码切换到分支1,然后写属于需求1 的代码并提交</span><br><span class="line">当我们把需求1 开发完毕如何把需求1 的代码合并到主分支呢?</span><br><span class="line">--&gt;1 切换到 主版本</span><br><span class="line">--&gt;2 右键 合并即可将需求1 写的代码合并至主分支</span><br><span class="line">-----此时我们看到代码自动合并到了master分支</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572180623156.png" alt="1572180623156"></p>
<h3 id="752删除分支"><a class="markdownIt-Anchor" href="#752删除分支"></a> 7.5.2删除分支</h3>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572183670465.png" alt="1572183670465"></p>
<p>5,冲突的处理<br>
​	5.1)冲突的概念</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">现象演示	</span><br><span class="line">	开发人员A 开发需求1,开发了一个工具类 MathUtil,里面第一行写了一个方法 add(int [] args)</span><br><span class="line"> 同时开发人员B 开发需求2,开发了一个工具类 MathUtil,里面第一行写了一个方法 add(int a int b)</span><br><span class="line">他们在互相不知道对方需求的情况下同时提交了代码到自己的分支</span><br><span class="line">   思考此时如果我们把需求1 和需求2 同时都合并到主分支上, 主分支的 工具类 MathUtil 的第一行应该使用谁的代码? </span><br><span class="line">   此时主分支是不能智能判断第一行使用谁的代码,合并时会报错,我们叫做冲突.</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572181403239.png" alt="1572181403239"></p>
<p>​	5.2) 如何处理冲突</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">分析一下冲突的原因:</span><br><span class="line">	开发人员之间彼此没有沟通导致的同一个时间节点修改了同一个地方的代码,合并是冲突</span><br><span class="line">思考:</span><br><span class="line">	我们能直接把某个开发人员开发的代码删除吗?</span><br><span class="line">显然不能</span><br><span class="line">	所以在处理冲突时,第一步应该时找开发另一个需求的人员沟通,之后才是处理冲突</span><br><span class="line">-----</span><br><span class="line">--&gt; 选中冲突的文件(带黄色感叹号的文件都是冲突的文件,如果有多个需要逐一处理)</span><br><span class="line">--&gt; 右键--&gt; 编辑冲突,</span><br><span class="line">--&gt;处理完毕后.标记已解决</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572182565594.png" alt="1572182565594"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572182727568.png" alt="1572182727568"></p>
<h1 id="8tag-标签"><a class="markdownIt-Anchor" href="#8tag-标签"></a> 8.tag  标签</h1>
<h2 id="81-标签的概念"><a class="markdownIt-Anchor" href="#81-标签的概念"></a> 8.1 标签的概念</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">如果你的项目达到一个重要的阶段，并希望永远记住那个特别的提交快照，你可以给它打上标签(tag)</span><br><span class="line">比如说，我们想为我们的项目发布一个&quot;1.0&quot;版本。 我们给最新一次提交打上（HEAD）&quot;v1.0&quot;的标签。</span><br><span class="line">标签可以理解为项目里程碑的一个标记,一旦打上了这个标记则,表示当前的代码将不允许提交</span><br></pre></td></tr></table></figure>
<h2 id="82-标签的创建tag"><a class="markdownIt-Anchor" href="#82-标签的创建tag"></a> 8.2  标签的创建(tag)</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">标签的创建和分支的创建操作几乎一样</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572183849972.png" alt="1572183849972"></p>
<h2 id="83-标签的切换与删除"><a class="markdownIt-Anchor" href="#83-标签的切换与删除"></a> 8.3 标签的切换与删除</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572184030612.png" alt="1572184030612"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572184109746.png" alt="1572184109746"></p>
<h1 id="9-远程仓库"><a class="markdownIt-Anchor" href="#9-远程仓库"></a> 9. 远程仓库</h1>
<p>我们的代码不能总是放在本地,因为总是放在本地,一旦电脑出现故障,数据将丢失,怎么共享呢,这里我们需要一个服务器, 我们可以把代码放到服务器上,然后让别人下载,这样我峨嵋你既可以备份代码,也可以进行团队协作开发</p>
<h2 id="90-局域网仓库"><a class="markdownIt-Anchor" href="#90-局域网仓库"></a> 9.0 局域网仓库</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">实际上我们可以搭建一个单间的局域网服务器共享我们的代码</span><br></pre></td></tr></table></figure>
<h3 id="901本地相对路径多个文件夹之间共享代码"><a class="markdownIt-Anchor" href="#901本地相对路径多个文件夹之间共享代码"></a> 9.0.1本地相对路径,多个文件夹之间共享代码</h3>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572535798760.png" alt="1572535798760"></p>
<h3 id="902开启局域网共享代码"><a class="markdownIt-Anchor" href="#902开启局域网共享代码"></a> 9.0.2开启局域网共享代码</h3>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572535921581.png" alt="1572535921581"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572536029899.png" alt="1572536029899"></p>
<p>局域网这种共享是没有安全控制的,都可以访问,如果想要搭建一个可以控制权限的服务器需要借助第三方软件</p>
<p>gitblit,可以自行搜索搭建</p>
<h2 id="91-常用远程仓库托管服务"><a class="markdownIt-Anchor" href="#91-常用远程仓库托管服务"></a> 9.1 常用远程仓库托管服务</h2>
<p>除了自己搭建服务器,其实我们可以使用一些免费的远程仓库,远程仓库有很多,常见的免费互联网远程仓库托管服务如下:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.github.com</span><br><span class="line">www.gitee.com</span><br><span class="line">www.gitlab.com</span><br><span class="line"></span><br><span class="line">github  是一个基于git实现在线代码托管的仓库，向互联网开放，企业版要收钱。</span><br><span class="line">gitee    即码云，是 oschina 免费给企业用的，不用自己搭建环境。</span><br><span class="line">gitlab   类似 github，一般用于在企业内搭建git私服，要自己搭环境。</span><br><span class="line"></span><br><span class="line">GitHub(gitee)、GitLab 不同点：</span><br><span class="line">1、GitHub如果使用私有仓库是需要付费的，(2019年开始私有仓库也是免费的但是只能3个人协同开发,想要更多需要收费)，GitLab可以在上面搭建私人的免费仓库。</span><br><span class="line">2、GitLab让开发团队对他们的代码仓库拥有更多的控制，相对于GitHub，它有不少的特色：</span><br><span class="line">    (1)允许免费设置仓库权限</span><br><span class="line">    (2)允许用户选择分享一个project的部分代码</span><br><span class="line">    (3)允许用户设置project的获取权限，进一步提升安全性</span><br><span class="line">    (4)可以设置获取到团队整体的改进进度</span><br><span class="line">    (5)通过innersourcing让不在权限范围内的人访问不到该资源</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>鉴于国内用户可能网络不好,这里我们使用gitee(码云) 来讲解我们的课程,其他可自行找资料学习非常类似</p>
<h2 id="92-码云账号注册"><a class="markdownIt-Anchor" href="#92-码云账号注册"></a> 9.2  码云账号注册</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572267659865.png" alt="1572267659865"></p>
<p>填写邮箱发送验证码,然后可以注册账号,主页如下</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572268091948.png" alt="1572268091948"></p>
<h2 id="93-创建远程仓库"><a class="markdownIt-Anchor" href="#93-创建远程仓库"></a> 9.3 创建远程仓库</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572274044100.png" alt="1572274044100"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/224637.png" alt="224637"></p>
<p>各个类型仓库之间的区别</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572274100802.png" alt="1572274100802"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572274406371.png" alt="1572274406371"></p>
<h2 id="94-把本地代码推送到远端"><a class="markdownIt-Anchor" href="#94-把本地代码推送到远端"></a> 9.4  把本地代码推送到远端</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572275202869.png" alt="1572275202869"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572275492670.png" alt="1572275492670"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572275546739.png" alt="1572275546739"></p>
<p>此时我们刷新仓库发现代码已经存在了</p>
<p>我们填写的用户信息,会被保存在本地,下次提交无需填写用户名和密码</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572277483698.png" alt="1572277483698"></p>
<h2 id="95-从远程仓库克隆代码"><a class="markdownIt-Anchor" href="#95-从远程仓库克隆代码"></a> 9.5  从远程仓库克隆代码</h2>
<p>我们同样可以从库下载代码,</p>
<p>新建一个文件夹 repo2 ,进入然后进行如下操作</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572275958701.png" alt="1572275958701"></p>
<p>此时我们发现我们的代码已经被下载下来了</p>
<h2 id="96-代码的修改与提交查看历史"><a class="markdownIt-Anchor" href="#96-代码的修改与提交查看历史"></a> 9.6  代码的修改与提交,查看历史</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1)此时我们修改代码就不能仅仅是提交到本地了,提交完毕应该推送到远端服务器</span><br><span class="line">2)此时如果别人从远端仓库下载最新的代码其实是可以看到我们的代码修改记录的</span><br><span class="line">   git --&gt;显示日志</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572277139243.png" alt="1572277139243"></p>
<h2 id="97-ssh-连接概述"><a class="markdownIt-Anchor" href="#97-ssh-连接概述"></a> 9.7 ssh 连接概述</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">实际上git 不仅仅支持用户名密码方式的配置,可以有另外一种相对更加安全的配置即ssh 方式配置</span><br></pre></td></tr></table></figure>
<p>ssh 方式的底层原理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh连接地城是RAS加密算法,又称非对称加密,是一种现在公认的最安全的加密方式</span><br><span class="line">数学基础好的同学可以研究一下</span><br><span class="line">https://www.cnblogs.com/cjm123/p/8243424.html</span><br><span class="line"></span><br><span class="line">公钥私钥加密可以看作古代 的&quot;虎符&quot; , 我们本地电脑有一份,远程服务器有一份, 只要 &quot;虎符&quot; 核对通过 表示身份无误,可以执行提交等操作,无需输入用户名密码</span><br></pre></td></tr></table></figure>
<h2 id="98-ssh-密钥的生成"><a class="markdownIt-Anchor" href="#98-ssh-密钥的生成"></a> 9.8 ssh 密钥的生成</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#生成公钥私钥</span><br><span class="line"> ssh-keygen -t rsa</span><br><span class="line"> 一直回车即可</span><br><span class="line"> 会默认用户目录 .ssh 目录生成一个默认的id_rsa文件 和id_rsa.pub</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572520139221.png" alt="1572520139221"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572520293700.png" alt="1572520293700"></p>
<h2 id="99-ssh-密钥配置"><a class="markdownIt-Anchor" href="#99-ssh-密钥配置"></a> 9.9 ssh 密钥配置</h2>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572520396806.png" alt="1572520396806"></p>
<h2 id="910-ssh-方式克隆提交代码"><a class="markdownIt-Anchor" href="#910-ssh-方式克隆提交代码"></a> 9.10 ssh 方式克隆/提交代码:</h2>
<p>配置完成之后我们克隆我们之前的项目</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572522118610.png" alt="1572522118610"></p>
<p>修改后直接提交推送即可成功,git 会自动去.ssh 目录找我们的私钥进行匹配</p>
<h2 id="911-远程仓库的其他操作"><a class="markdownIt-Anchor" href="#911-远程仓库的其他操作"></a> 9.11. 远程仓库的其他操作</h2>
<p>概念</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572522822946.png" alt="1572522822946"></p>
<p>当我们从 gitee 上查看别人的项目的时候我们可能会看到上图中的按钮</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">指数:</span><br><span class="line">	是gitee 网站根据当前项目的各项指标计算出来的一个值</span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572523045267.png" alt="1572523045267"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Star:</span><br><span class="line">	点赞, 注意这里的并不像朋友圈那样容易获得点赞,圈内人还是很克制的</span><br><span class="line">Watch:</span><br><span class="line">   如果你watch 了某个开源项目,那么这个项目后续所有的改动你将收到通知</span><br><span class="line">Fork :</span><br><span class="line">	将别人的代码克隆到你自己的仓库</span><br><span class="line">	作用一: 如果担心某个优秀的项目别人突然有一天不开源了,你可以fork到自己的仓库</span><br><span class="line">    作用二: 修改别人的代码</span><br><span class="line">	  以linux 为例,你其实不是linux 社区的开发人员,但是你 又想为linux 开发做贡献(维护代码)</span><br><span class="line">	   你并没有权限,怎们办?</span><br><span class="line">	   你可以先把linux 开源的代码 fork 到你自己的仓库,此时你就可以操作自己的仓库进行修改代码了</span><br><span class="line">	   如何让别人合并你修改好的代码呢? </span><br><span class="line">	    我们注意项目的上方有一个 &quot; Pull Request&quot; 这个按钮的意思是 &quot;请求求别人合并你修改的代码&quot;</span><br><span class="line">	    当我们发起一个 Pull Request 时 , 项目的拥有者将收到 Pull Request请求,然后将根据你提交代码的质量决定是否合并</span><br></pre></td></tr></table></figure>
<p>项目操作</p>
<p>1)我们可以删除修改我们自己仓库的基本信息</p>
<ol start="2">
<li>我们可以邀请其他人成为项目的开发人员或者管理人员</li>
</ol>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572523819666.png" alt="1572523819666"></p>
<p>我们可以删除修改我们自己仓库的基本信息</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572523928774.png" alt="1572523928774"></p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572523968992.png" alt="1572523968992"></p>
<h2 id="912-利用-gitee-搭建个人主页"><a class="markdownIt-Anchor" href="#912-利用-gitee-搭建个人主页"></a> 9.12 利用 gitee 搭建个人主页</h2>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1)将静态资源上传至仓库</span><br><span class="line">2) 选择服务 pages 即可部署</span><br><span class="line">注意 1)必须有个index.html 文件</span><br><span class="line">注意 2) 只能搭建静态网站,动态网站请租赁服务器搭建提供服务</span><br><span class="line">注意 3) gitee 要求必须绑定手机号</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572525575923.png" alt="1572525575923"></p>
<p>点击开启后gitee 会自动生成一个域名</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572526097257.png" alt="1572526097257"></p>
<p>直接访问即可</p>
<p>此时我们已经在git 上部署了一个静态的网站</p>
<p><img src="/2024/07/12/Git%E6%95%99%E7%A8%8B/1572526136074.png" alt="1572526136074"></p>
<h1 id="10命令行-git基本操作"><a class="markdownIt-Anchor" href="#10命令行-git基本操作"></a> 10.命令行-- git基本操作</h1>
<h2 id="101-介绍"><a class="markdownIt-Anchor" href="#101-介绍"></a> 10.1  介绍</h2>
<p>​	上述我们的操作 使用的 是客户端TortoiseGit 操作的git ,实际上底层依旧是使用的命令行帮我们执行, 在早期 git 并没有窗口化工具,开发人员只能使用命令行模式</p>
<p>实际上,如果你掌握并熟练使用了命令行模式操作git 的话,你会发现某些操作命令行比窗口化操作要简单</p>
<p>所有你在工作中会发现高深的技术人员可能会喜欢命令行模式提交git</p>
<p>##10.2 环境配置</p>
<p>当安装Git后首先要做的事情是设置用户名称和email地址。这是非常重要的，因为每次Git提交都会使用该用户信息</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">设置用户信息</span> </span><br><span class="line">   git config --global user.name “itcast”</span><br><span class="line">   git config --global user.email “itcast@itcast.cn”</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看配置信息</span></span><br><span class="line">   git config --list</span><br><span class="line">   git config user.name</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">通过上面的命令设置的信息会保存在~/.gitconfig文件中</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>##10.3  初始化本地仓库 init</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">初始化仓库带工作区</span></span><br><span class="line">git init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">初始化仓库不带工作区</span></span><br><span class="line">git init --bare  </span><br></pre></td></tr></table></figure>
<p>##10.4 克隆 clone</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从远程仓库克隆</span></span><br><span class="line">git clone 远程Git仓库地址 </span><br><span class="line">例如: git clone https://gitee.com/itcast/gittest.git</span><br></pre></td></tr></table></figure>
<p>##10.5  查看状态 status</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看状态</span></span><br><span class="line">git status </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看状态 使输出信息更加简洁</span></span><br><span class="line">git status –s </span><br></pre></td></tr></table></figure>
<p>##10.6 add</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将未跟踪的文件加入暂存区</span></span><br><span class="line">git add  &lt;文件名&gt;  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将暂存区的文件取消暂存 (取消 add )</span></span><br><span class="line">git reset  &lt;文件名&gt;  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>##10.7 commit</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">git commit 将暂存区的文件修改提交到本地仓库</span></span><br><span class="line">git commit -m &quot;日志信息&quot;  &lt;文件名&gt;  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>##10.8 删除 rm</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从本地工作区 删除文件</span></span><br><span class="line">git rm &lt;文件名&gt;  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果本工作区库误删, 想要回退</span></span><br><span class="line">git checkout head &lt;文件名&gt;  </span><br></pre></td></tr></table></figure>
<h1 id="11-命令行git-远程仓库操作"><a class="markdownIt-Anchor" href="#11-命令行git-远程仓库操作"></a> 11. 命令行–git 远程仓库操作</h1>
<h2 id="111-查看远程"><a class="markdownIt-Anchor" href="#111-查看远程"></a> 11.1    查看远程</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看远程  列出指定的每一个远程服务器的简写</span></span><br><span class="line">git remote </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看远程 , 列出 简称和地址</span></span><br><span class="line">git remote  -v  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看远程仓库详细地址</span></span><br><span class="line">git remote show  &lt;仓库简称&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="112-添加移除远测仓库"><a class="markdownIt-Anchor" href="#112-添加移除远测仓库"></a> 11.2 添加/移除远测仓库</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加远程仓库</span></span><br><span class="line">git remote add &lt;shortname&gt; &lt;url&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">移除远程仓库和本地仓库的关系(只是从本地移除远程仓库的关联关系，并不会真正影响到远程仓库)</span></span><br><span class="line">git remote rm &lt;shortname&gt; </span><br></pre></td></tr></table></figure>
<h2 id="113-从远程仓库获取代码"><a class="markdownIt-Anchor" href="#113-从远程仓库获取代码"></a> 11.3 从远程仓库获取代码</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从远程仓库克隆</span></span><br><span class="line">git clone &lt;url&gt; </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从远程仓库拉取 (拉取到.git 目录,不会合并到工作区,工作区发生变化)</span></span><br><span class="line">git fetch  &lt;shortname&gt;  &lt;分支名称&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">手动合并  把某个版本的某个分支合并到当前工作区</span></span><br><span class="line">git merge &lt;shortname&gt;/&lt;分支名称&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从远程仓库拉取 (拉取到.git 目录,合并到工作区,工作区不发生变化) = fetch+merge</span></span><br><span class="line">git pull  &lt;shortname&gt;  &lt;分支名称&gt;</span><br><span class="line">git pull  &lt;shortname&gt;  &lt;分支名称&gt;  --allow-unrelated-histories  #  强制拉取合并</span><br></pre></td></tr></table></figure>
<p>注意：如果当前本地仓库不是从远程仓库克隆，而是本地创建的仓库，并且仓库中存在文件，此时再从远程仓库拉取文件的时候会报错（fatal: refusing to merge unrelated histories ），解决此问题可以在git pull命令后加入参数–allow-unrelated-histories (如上 命令)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将本地仓库推送至远程仓库的某个分支</span></span><br><span class="line">git push [remote-name] [branch-name]</span><br></pre></td></tr></table></figure>
<h1 id="12-命令行-分支"><a class="markdownIt-Anchor" href="#12-命令行-分支"></a> 12.  命令行-- 分支</h1>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认 分支名称为 master</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有本地分支</span></span><br><span class="line">git branch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有本地分支和远程分支</span></span><br><span class="line">git branch -a</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建分支</span></span><br><span class="line">git branch &lt;分支名&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换分支</span> </span><br><span class="line">git checkout &lt;分支名&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除分支(如果分支已经修改过,则不允许删除)</span></span><br><span class="line">git branch -d  &lt;分支名&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">强制删除分支</span></span><br><span class="line">git branch -D  &lt;分支名&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提交分支至远程仓库</span></span><br><span class="line">git push &lt;仓库简称&gt; &lt;分支名称&gt;	</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">合并分支 将其他分支合并至当前工作区</span></span><br><span class="line">git merge &lt;分支名称&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除远程仓库分支</span></span><br><span class="line">git push origin –d branchName</span><br></pre></td></tr></table></figure>
<h1 id="13-命令行-tag"><a class="markdownIt-Anchor" href="#13-命令行-tag"></a> 13 . 命令行 --tag</h1>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">列出所有tag</span></span><br><span class="line">git tag</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看tag详细信息</span> </span><br><span class="line">git show [tagName]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建一个tag</span></span><br><span class="line">git tag [tagName]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提交指定tag</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push [仓库简称] [tagName]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建一个分支，指向某个tag</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b [branch] [tag]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除本地tag</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -d [tag]</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除远程tag (注意 空格)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin :refs/tags/[tag]</span></span><br></pre></td></tr></table></figure>
<h1 id="14-案例"><a class="markdownIt-Anchor" href="#14-案例"></a> 14. 案例</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">企业中我们是如何开发的</span><br><span class="line">1) 入职第一天,管理人员分配/git账号密码 </span><br><span class="line">2) 开发人员下载代码即文档/ 根据文档将环境搭建成功</span><br><span class="line">3) 团队一般会给你讲讲项目相关的支持</span><br><span class="line">----</span><br><span class="line">4) 你接到第一个需求(或者某个功能,一般要经过沟通,分析,设计...等过程)</span><br><span class="line">5) 创建feature分支(一般一个需求对应一个feature,命名格式上标注该需求的id)</span><br><span class="line">6) 开发需求,本地测试,提交代码到当前需求对应的feature分支,</span><br><span class="line">	一般来讲为了避免将测试代码提交,需要提交前,检查如下步骤</span><br><span class="line">	6.1) 是否多提交了某个文件,比如测试文件</span><br><span class="line">	6.2) 是否漏提交文件</span><br><span class="line">	6.3) 打开每一个应该提交的文件,判断是否多提交了一行代码,是否少提交了一行代码,是否删除了本应该存在的代码 </span><br><span class="line">	检查完毕提交代码</span><br><span class="line">7) 合并分支至test分支-- 测试人员会在test分支中测试</span><br><span class="line">8) 测试人员测试bug ,开发者在feature分支上继续修改,提交</span><br><span class="line">9) 测试人员测试通过 ,test分支会被测试人员合并到develop开发分支,再次测试</span><br><span class="line">10)develop分支最终会被合并到master主分支</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>`</p>
</div>]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
</search>
